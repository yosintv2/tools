<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Nepal Car Loan Calculator - Free Online EMI Calculation</title>
    <meta name="description" content="Calculate car loan EMIs accurately with our free online Nepal Car Loan Calculator by HamroTools. Enter vehicle cost, down payment, interest rate, and tenure to get instant EMI estimates, total interest, and payment breakdowns, including ideal and better calculation options for financial planning in Nepal.">
    <meta name="keywords" content="nepal car loan calculator, online nepal car loan calculator, free nepal car loan calculator tool, calculate car loan emi nepal, car loan emi calculator nepal, nepal vehicle loan calculator, nepal auto loan calculator, ideal car loan calculation nepal, better car loan calculation nepal, car loan emi estimation tool, car loan planning app nepal, car loan management tool nepal, nepal car finance calculator, nepal car loan interest calculator">
    <meta name="robots" content="index, follow">
    <meta name="author" content="HamroTools Nepal Car Loan Calculator Team">
    <meta property="og:title" content="Nepal Car Loan Calculator - Free Online EMI Calculation - HamroTools">
    <meta property="og:description" content="Calculate car loan EMIs accurately with our free online Nepal Car Loan Calculator by HamroTools. Enter vehicle cost, down payment, interest rate, and tenure to get instant EMI estimates, total interest, and payment breakdowns, including ideal and better calculation options for financial planning in Nepal.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.singhyogendra.com.np/nepal-car-loan-calculator">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Nepal Car Loan Calculator - Free Online EMI Calculation - HamroTools">
    <meta name="twitter:description" content="Calculate car loan EMIs accurately with our free online Nepal Car Loan Calculator by HamroTools. Enter vehicle cost, down payment, interest rate, and tenure to get instant EMI estimates, total interest, and payment breakdowns, including ideal and better calculation options for financial planning in Nepal.">
    <link rel="canonical" href="https://www.singhyogendra.com.np/nepal-car-loan-calculator">
    <script type="application/ld+json">
    [
        {
            "@context": "https://schema.org",
            "@type": "WebApplication",
            "name": "Nepal Car Loan Calculator - HamroTools",
            "description": "A free online Nepal Car Loan Calculator by HamroTools to calculate car loan EMIs, total interest, and payment breakdowns for vehicle loans in Nepal. Includes ideal and better calculation options for financial planning on all devices.",
            "url": "https://www.singhyogendra.com.np/nepal-car-loan-calculator",
            "applicationCategory": "Finance",
            "operatingSystem": "All",
            "keywords": ["nepal car loan calculator", "online nepal car loan calculator", "free nepal car loan calculator tool", "calculate car loan emi nepal", "car loan emi calculator nepal", "nepal vehicle loan calculator", "nepal auto loan calculator", "ideal car loan calculation nepal", "better car loan calculation nepal", "car loan emi estimation tool", "car loan planning app nepal", "car loan management tool nepal", "nepal car finance calculator", "nepal car loan interest calculator"]
        },
        {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": [
                {
                    "@type": "Question",
                    "name": "What is the Nepal Car Loan Calculator - HamroTools?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "The Nepal Car Loan Calculator - HamroTools is a free online nepal car loan calculator and car loan emi estimation tool designed for accurate EMI computation. This car loan planning app nepal by HamroTools supports calculate car loan emi nepal, nepal vehicle loan calculator, and nepal auto loan calculator, with ideal car loan calculation nepal and better car loan calculation nepal options, making it a reliable car loan management tool nepal for financial planning."
                    }
                },
                {
                    "@type": "Question",
                    "name": "How to use the Nepal Car Loan Calculator - HamroTools?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Enter your vehicle cost, down payment percentage, interest rate, and tenure using our car loan management tool nepal by HamroTools. Click 'Calculate' to get instant EMI estimates with nepal car loan calculator, including total interest and payment breakdowns, with ideal car loan calculation nepal and better car loan calculation nepal recommendations. Copy or reset as needed. This free nepal car loan calculator tool and online nepal car loan calculator is secure, browser-based, and works on all devices."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Why use the Nepal Car Loan Calculator - HamroTools?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Our nepal car loan calculator and free nepal car loan calculator tool by HamroTools is fast, accurate, and user-friendly, offering an online nepal car loan calculator and car loan planning app nepal for seamless EMI calculations, including calculate car loan emi nepal, nepal vehicle loan calculator, and nepal auto loan calculator, with ideal car loan calculation nepal and better car loan calculation nepal options. This car loan management tool nepal provides reliable estimates, making it the perfect nepal car finance calculator and nepal car loan interest calculator for financial planning."
                    }
                }
            ]
        }
    ]
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .action-btn:active {
            transform: scale(0.95);
            transition: transform 0.1s ease;
        }
        @media (max-width: 640px) {
            .action-btn {
                font-size: 0.875rem;
                padding: 0.5rem;
            }
            .result-table {
                font-size: 0.75rem;
            }
        }
        .copy-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: #dc2626;
            color: #fff;
            padding: 0.75rem 1.25rem;
            border-radius: 0.5rem;
            font-size: 0.85rem;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 2000;
            white-space: nowrap;
            pointer-events: none;
        }
        .copy-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        .about-heading {
            background-color: #f3f4f6;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }
        .result-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        .result-table th, .result-table td {
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            text-align: left;
            white-space: normal;
            word-wrap: break-word;
            font-family: 'Inter', sans-serif;
        }
        .result-table th {
            background-color: #f3f4f6;
            font-weight: 600;
            color: #1f2937;
        }
        .result-table td {
            color: #4b5563;
        }
        .result-table tr:nth-child(even) {
            background-color: #f9fafb;
        }
        @media (min-width: 640px) {
            .result-table th, .result-table td {
                font-size: 0.875rem;
            }
        }
        @media (min-width: 768px) {
            .result-table th, .result-table td {
                font-size: 1rem;
            }
        }
        @media (max-width: 768px) {
            .result-table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
            .result-table th, .result-table td {
                min-width: 120px;
            }
        }
        input, select, table, textarea {
            font-family: 'Inter', sans-serif;
            padding: 0.5rem;
        }
        textarea {
            white-space: pre-wrap;
            resize: none;
            overflow-y: hidden;
            width: 100%;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 md:p-8">
    <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6 md:p-8 w-full max-w-4xl">
        <!-- Header Section -->
        <header class="text-center mb-6 sm:mb-8">
            <div class="flex items-center justify-center mb-4">
                <i class="fas fa-calculator text-red-600 text-2xl sm:text-3xl md:text-4xl mr-3"></i>
                <h1 class="text-xl sm:text-2xl md:text-3xl font-bold text-gray-800">Nepal Car Loan Calculator</h1>
            </div>
            <p class="text-xs sm:text-sm md:text-base text-gray-600">Calculate car loan EMIs accurately with our free online Nepal Car Loan Calculator by HamroTools. Enter vehicle cost, down payment, interest rate, and tenure to get instant EMI estimates, total interest, and payment breakdowns, including ideal and better calculation options for financial planning in Nepal.</p>
        </header>
        <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5525538810839147" crossorigin="anonymous"></script>
            <!-- hamrotools -->
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5525538810839147" data-ad-slot="9765483765" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </center>

        <!-- Nepal Car Loan Calculator Form and Output -->
        <section class="mb-6 sm:mb-8">
            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                <form onsubmit="return false;">
                    <div class="mb-4">
                        <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2" for="vehicleTypeSelect">Vehicle Type</label>
                        <select id="vehicleTypeSelect" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition text-xs sm:text-sm md:text-base" aria-describedby="vehicleTypeSelectHelp">
                            <option value="ice">Internal Combustion Engine (ICE)</option>
                            <option value="ev">Electric Vehicle (EV)</option>
                        </select>
                        <p id="vehicleTypeSelectHelp" class="text-xs text-gray-600 mt-1">Select vehicle type (ICE: up to 50% financing, EV: up to 80%).</p>
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2" for="vehicleCostInput">Vehicle Cost (NPR)</label>
                        <input id="vehicleCostInput" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition text-xs sm:text-sm md:text-base" type="number" step="1000" min="500000" placeholder="Enter vehicle cost (e.g., 1000000)" aria-describedby="vehicleCostInputHelp">
                        <p id="vehicleCostInputHelp" class="text-xs text-gray-600 mt-1">Enter the total vehicle cost in NPR (minimum 500,000).</p>
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2" for="downPaymentInput">Down Payment (%)</label>
                        <input id="downPaymentInput" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition text-xs sm:text-sm md:text-base" type="number" step="1" min="20" max="80" placeholder="Enter down payment percentage" aria-describedby="downPaymentInputHelp">
                        <p id="downPaymentInputHelp" class="text-xs text-gray-600 mt-1">Enter down payment (20%–50% for ICE, 20%–80% for EV).</p>
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2" for="interestRateInput">Interest Rate (% per year)</label>
                        <input id="interestRateInput" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition text-xs sm:text-sm md:text-base" type="number" step="0.1" min="0.1" max="20" placeholder="Enter interest rate (e.g., 10)" aria-describedby="interestRateInputHelp">
                        <p id="interestRateInputHelp" class="text-xs text-gray-600 mt-1">Enter the annual interest rate (e.g., 8–15%).</p>
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2" for="tenureInput">Loan Tenure (years)</label>
                        <input id="tenureInput" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition text-xs sm:text-sm md:text-base" type="number" step="1" min="1" max="15" placeholder="Enter tenure (e.g., 5)" aria-describedby="tenureInputHelp">
                        <p id="tenureInputHelp" class="text-xs text-gray-600 mt-1">Enter the loan tenure in years (1–7 for ICE, 1–15 for EV).</p>
                    </div>
                    <div class="flex flex-nowrap gap-2 mt-4 sm:flex-nowrap">
                        <button type="button" id="calculateBtn" class="action-btn w-full sm:w-1/3 bg-red-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base">
                            <i class="fas fa-calculator mr-2"></i>
                            Calculate
                        </button>
                        <button type="button" id="copyBtn" class="action-btn w-full sm:w-1/3 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base" disabled>
                            <i class="fas fa-copy mr-2"></i>
                            Copy
                        </button>
                        <button type="button" id="resetBtn" class="action-btn w-full sm:w-1/3 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base">
                            <i class="fas fa-undo mr-2"></i>
                            Reset
                        </button>
                    </div>
                </form>
                <div class="mt-4">
                    <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2">EMI Calculation Results</label>
                    <table class="result-table" aria-describedby="resultHelp">
                        <thead>
                            <tr>
                                <th class="p-2 text-left font-semibold">Metric</th>
                                <th class="p-2 text-left font-semibold">Value</th>
                            </tr>
                        </thead>
                        <tbody id="resultTable">
                            <tr><td>Vehicle Type</td><td id="vehicleType">-</td></tr>
                            <tr><td>Vehicle Cost</td><td id="vehicleCost">-</td></tr>
                            <tr><td>Down Payment</td><td id="downPayment">-</td></tr>
                            <tr><td>Loan Amount</td><td id="loanAmount">-</td></tr>
                            <tr><td>Interest Rate</td><td id="interestRate">-</td></tr>
                            <tr><td>Tenure</td><td id="tenure">-</td></tr>
                            <tr><td>Monthly EMI</td><td id="monthlyEMI">-</td></tr>
                            <tr><td>Total Interest</td><td id="totalInterest">-</td></tr>
                            <tr><td>Total Payment</td><td id="totalPayment">-</td></tr>
                            <tr><td>Better Calculation</td><td id="betterCalculation">-</td></tr>
                        </tbody>
                    </table>
                    <p id="resultHelp" class="text-xs text-gray-600 mt-1">EMI calculation results appear here. Note: Check with your bank for exact interest rates and processing fees.</p>
                    <div class="mt-4">
                        <label class="block text-xs sm:text-sm md:text-base font-semibold text-gray-800 mb-2" for="output">Copyable Output</label>
                        <textarea id="output" class="w-full p-2 border border-gray-300 rounded-lg bg-gray-100 text-xs sm:text-sm md:text-base" readonly aria-describedby="outputHelp"></textarea>
                        <p id="outputHelp" class="text-xs text-gray-600 mt-1">EMI calculation results for copying. Click "Copy" to share.</p>
                        <p id="errorMessage" class="text-xs sm:text-sm md:text-base text-red-600 mt-2 hidden" role="alert" aria-live="assertive">Error: Please enter valid inputs.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="mt-8 sm:mt-12">
            <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 about-heading">About Nepal Car Loan Calculator - HamroTools</h2>
            <article class="mb-6">
                <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-2">What is the Nepal Car Loan Calculator - HamroTools?</h3>
                <p class="text-xs sm:text-sm md:text-base text-gray-600">
                    The Nepal Car Loan Calculator - HamroTools is a free online nepal car loan calculator and car loan emi estimation tool designed for accurate EMI computation. This car loan planning app nepal by HamroTools supports calculate car loan emi nepal, nepal vehicle loan calculator, and nepal auto loan calculator, with ideal car loan calculation nepal and better car loan calculation nepal options, making it a reliable car loan management tool nepal for financial planning.
                </p>
            </article>
            <article class="mb-6">
                <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-2">How to Use This Tool</h3>
                <p class="text-xs sm:text-sm md:text-base text-gray-600">
                    Enter your vehicle cost, down payment percentage, interest rate, and tenure using our car loan management tool nepal by HamroTools. Click 'Calculate' to get instant EMI estimates with nepal car loan calculator, including total interest and payment breakdowns, with ideal car loan calculation nepal and better car loan calculation nepal recommendations. Copy or reset as needed. This free nepal car loan calculator tool and online nepal car loan calculator is secure, browser-based, and works on all devices.
                </p>
            </article>
            <article class="mb-6">
                <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-2">Why Use Our Nepal Car Loan Calculator - HamroTools?</h3>
                <p class="text-xs sm:text-sm md:text-base text-gray-600">
                    Our nepal car loan calculator and free nepal car loan calculator tool by HamroTools is fast, accurate, and user-friendly, offering an online nepal car loan calculator and car loan planning app nepal for seamless EMI calculations, including calculate car loan emi nepal, nepal vehicle loan calculator, and nepal auto loan calculator, with ideal car loan calculation nepal and better car loan calculation nepal options. This car loan management tool nepal provides reliable estimates, making it the perfect nepal car finance calculator and nepal car loan interest calculator for financial planning.
                </p>
            </article>
        </section>

        <!-- Footer Section -->
        <footer class="mt-8 sm:mt-12">
            <a href="/" class="action-btn w-full bg-red-600 text-white font-semibold py-2 rounded-lg hover:bg-red-700 transition flex items-center justify-center text-xs sm:text-sm md:text-base">
                <i class="fas fa-home mr-2"></i>
                Go to Homepage
            </a>
        </footer>
    </div>

    <div style="position:fixed;top:0;left:0;width:100%;height:1px;overflow:hidden;visibility:hidden;z-index:9999;">
        <script type="text/javascript" src="//widget.supercounters.com/ssl/online_i.js"></script>
        <script type="text/javascript">sc_online_i(1720009,"ffffff","ffffff");</script>
        <noscript><a href="https://www.supercounters.com/" style="visibility:hidden;">free online counter</a></noscript>
    </div>

    <script>
        // Analytics tracking function
        function trackEvent(event, data) {
            console.log(`Event: ${event}`, data);
        }
        trackEvent('page_load', { page: window.location.href });

        function showPopup(message) {
            const popup = document.createElement('div');
            popup.className = 'copy-popup';
            popup.textContent = message;
            document.body.appendChild(popup);
            setTimeout(() => popup.classList.add('show'), 10);
            setTimeout(() => {
                popup.classList.remove('show');
                setTimeout(() => popup.remove(), 300);
            }, 2000);
        }

        function calculateEMI() {
            const vehicleType = document.getElementById('vehicleTypeSelect').value;
            const vehicleCost = parseFloat(document.getElementById('vehicleCostInput').value) || 0;
            const downPaymentPercent = parseFloat(document.getElementById('downPaymentInput').value) || 0;
            const interestRate = parseFloat(document.getElementById('interestRateInput').value) || 0;
            const tenure = parseInt(document.getElementById('tenureInput').value) || 0;
            const errorMessage = document.getElementById('errorMessage');
            const calculateBtn = document.getElementById('calculateBtn');
            const copyBtn = document.getElementById('copyBtn');
            const output = document.getElementById('output');

            errorMessage.classList.add('hidden');
            document.getElementById('vehicleType').textContent = '-';
            document.getElementById('vehicleCost').textContent = '-';
            document.getElementById('downPayment').textContent = '-';
            document.getElementById('loanAmount').textContent = '-';
            document.getElementById('interestRate').textContent = '-';
            document.getElementById('tenure').textContent = '-';
            document.getElementById('monthlyEMI').textContent = '-';
            document.getElementById('totalInterest').textContent = '-';
            document.getElementById('totalPayment').textContent = '-';
            document.getElementById('betterCalculation').textContent = '-';
            output.value = '';
            output.style.height = 'auto';
            copyBtn.disabled = true;

            if (vehicleCost < 500000) {
                errorMessage.textContent = 'Error: Vehicle cost must be at least NPR 500,000.';
                errorMessage.classList.remove('hidden');
                trackEvent('calculate_error', { error: 'invalid_vehicle_cost' });
                return;
            }
            const maxDownPayment = vehicleType === 'ev' ? 80 : 50;
            if (downPaymentPercent < 20 || downPaymentPercent > maxDownPayment) {
                errorMessage.textContent = `Error: Down payment must be between 20% and ${maxDownPayment}% for ${vehicleType.toUpperCase()} vehicles.`;
                errorMessage.classList.remove('hidden');
                trackEvent('calculate_error', { error: 'invalid_down_payment' });
                return;
            }
            if (interestRate < 0.1 || interestRate > 20) {
                errorMessage.textContent = 'Error: Interest rate must be between 0.1% and 20%.';
                errorMessage.classList.remove('hidden');
                trackEvent('calculate_error', { error: 'invalid_interest_rate' });
                return;
            }
            const maxTenure = vehicleType === 'ev' ? 15 : 7;
            if (tenure < 1 || tenure > maxTenure) {
                errorMessage.textContent = `Error: Tenure must be between 1 and ${maxTenure} years for ${vehicleType.toUpperCase()} vehicles.`;
                errorMessage.classList.remove('hidden');
                trackEvent('calculate_error', { error: 'invalid_tenure' });
                return;
            }

            calculateBtn.disabled = true;
            calculateBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Calculating...';

            setTimeout(() => {
                try {
                    const downPaymentAmount = vehicleCost * (downPaymentPercent / 100);
                    const loanAmount = vehicleCost - downPaymentAmount;
                    const monthlyRate = interestRate / 100 / 12;
                    const months = tenure * 12;
                    const emi = (loanAmount * monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
                    const totalPayment = emi * months;
                    const totalInterest = totalPayment - loanAmount;

                    const betterTenure = Math.max(1, tenure - 2);
                    const betterMonths = betterTenure * 12;
                    const betterEMI = (loanAmount * monthlyRate * Math.pow(1 + monthlyRate, betterMonths)) / (Math.pow(1 + monthlyRate, betterMonths) - 1);
                    const betterTotalPayment = betterEMI * betterMonths;
                    const betterTotalInterest = betterTotalPayment - loanAmount;
                    const betterCalculation = vehicleType === 'ev' 
                        ? `Reduce tenure to ${betterTenure} years to lower total interest to NPR ${betterTotalInterest.toFixed(2)} (EMI: NPR ${betterEMI.toFixed(2)}). Or, seek a lower interest rate (e.g., 8%) from banks like Global IME or NIC Asia.`
                        : `Reduce tenure to ${betterTenure} years to lower total interest to NPR ${betterTotalInterest.toFixed(2)} (EMI: NPR ${betterEMI.toFixed(2)}). Or, consider an EV for up to 80% financing to reduce loan amount. Seek lower rates (e.g., 8%) from banks like Global IME or NIC Asia.`;

                    document.getElementById('vehicleType').textContent = vehicleType === 'ev' ? 'Electric Vehicle (EV)' : 'Internal Combustion Engine (ICE)';
                    document.getElementById('vehicleCost').textContent = `NPR ${vehicleCost.toFixed(2)}`;
                    document.getElementById('downPayment').textContent = `${downPaymentPercent.toFixed(2)}% (NPR ${downPaymentAmount.toFixed(2)})`;
                    document.getElementById('loanAmount').textContent = `NPR ${loanAmount.toFixed(2)}`;
                    document.getElementById('interestRate').textContent = `${interestRate.toFixed(2)}% per year`;
                    document.getElementById('tenure').textContent = `${tenure} years`;
                    document.getElementById('monthlyEMI').textContent = `NPR ${emi.toFixed(2)}`;
                    document.getElementById('totalInterest').textContent = `NPR ${totalInterest.toFixed(2)}`;
                    document.getElementById('totalPayment').textContent = `NPR ${totalPayment.toFixed(2)}`;
                    document.getElementById('betterCalculation').textContent = betterCalculation;

                    const outputText = [
                        `Vehicle Type: ${vehicleType === 'ev' ? 'Electric Vehicle (EV)' : 'Internal Combustion Engine (ICE)'}`,
                        `Vehicle Cost: NPR ${vehicleCost.toFixed(2)}`,
                        `Down Payment: ${downPaymentPercent.toFixed(2)}% (NPR ${downPaymentAmount.toFixed(2)})`,
                        `Loan Amount: NPR ${loanAmount.toFixed(2)}`,
                        `Interest Rate: ${interestRate.toFixed(2)}% per year`,
                        `Tenure: ${tenure} years`,
                        `Monthly EMI: NPR ${emi.toFixed(2)}`,
                        `Total Interest: NPR ${totalInterest.toFixed(2)}`,
                        `Total Payment: NPR ${totalPayment.toFixed(2)}`,
                        `Better Calculation: ${betterCalculation}`,
                        `Note: Check with your bank for exact interest rates and processing fees.`
                    ].join('\n');
                    output.value = outputText;
                    output.style.height = 'auto';
                    output.style.height = output.scrollHeight + 'px';
                    copyBtn.dataset.result = outputText;
                    copyBtn.disabled = false;

                    trackEvent('calculate_emi', { vehicleType, vehicleCost, downPaymentPercent, interestRate, tenure });
                } catch (e) {
                    errorMessage.textContent = 'Error: ' + e.message;
                    errorMessage.classList.remove('hidden');
                    trackEvent('calculate_error', { error: e.message });
                } finally {
                    calculateBtn.disabled = false;
                    calculateBtn.innerHTML = '<i class="fas fa-calculator mr-2"></i>Calculate';
                }
            }, 300);
        }

        document.getElementById('calculateBtn').addEventListener('click', calculateEMI);

        document.getElementById('copyBtn').addEventListener('click', () => {
            const result = document.getElementById('copyBtn').dataset.result;
            if (result) {
                navigator.clipboard.writeText(result).then(() => {
                    showPopup('Copied!');
                    trackEvent('copy_result', { result });
                }).catch(() => {
                    document.getElementById('errorMessage').textContent = 'Error: Failed to copy output.';
                    document.getElementById('errorMessage').classList.remove('hidden');
                    trackEvent('copy_error', { result });
                });
            }
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            document.getElementById('vehicleTypeSelect').value = 'ice';
            document.getElementById('vehicleCostInput').value = '';
            document.getElementById('downPaymentInput').value = '';
            document.getElementById('interestRateInput').value = '';
            document.getElementById('tenureInput').value = '';
            document.getElementById('vehicleType').textContent = '-';
            document.getElementById('vehicleCost').textContent = '-';
            document.getElementById('downPayment').textContent = '-';
            document.getElementById('loanAmount').textContent = '-';
            document.getElementById('interestRate').textContent = '-';
            document.getElementById('tenure').textContent = '-';
            document.getElementById('monthlyEMI').textContent = '-';
            document.getElementById('totalInterest').textContent = '-';
            document.getElementById('totalPayment').textContent = '-';
            document.getElementById('betterCalculation').textContent = '-';
            document.getElementById('output').value = '';
            document.getElementById('output').style.height = 'auto';
            document.getElementById('copyBtn').disabled = true;
            document.getElementById('errorMessage').classList.add('hidden');
            trackEvent('reset_form', {});
        });
    </script>
</body>
</html>
